/*
 Theme Name:   GeneratePress Child
 Theme URI:    https://generatepress.com
 Description:  Child theme for Generate Press
 Author:       Mario Badilla and Ricardo Herrera
 Author URI:   https://mariobadilla.com
 Template:     generatepress
 Version:      0.1
 GitHub Theme URI: https://github.com/marbaque/generatepress_child
*/

@import 'sass/_variables';
@import 'sass/_links';
@import 'sass/_tipo';
.site-content{
	min-height: 700px;
}

header.site-header {
	border-bottom: 1px solid #eee;
	background: #FFFFFF;
	.inside-header {
		padding: 20px;
		
		@media screen and (max-width: $break__medium) {
			padding: 10px;
			.site-logo {
				width: 150px;
				margin-bottom: 5px;
			}
		}
		a {
			border: none;
		}
	}
	
}
.main-navigation {
	background-color: transparent;
	
	@media screen and (min-width: $break__medium) {
		background-color: transparent;
	}
	button.menu-toggle {
		color: $color__body-text;
	}
	.fa-search:before {
		color: $color__body-text;
	}
	.navigation-search {
		input[type="search"] {
			background-color: $color__dark;
			color: white;
			
			&:focus {
				
			}
			
		}
		
	}
	.main-nav {
		
		ul {
			li {
				a {
					color: $color__body-text;
					&:hover {
						background-color: $color__secundario;
						color: $color__body-text;
					}
				}
				
				&:focus, 
				&.sfHover  {
					>a {
						background-color: $color__secundario;
						color: $color__body-text;
					}
				}	
			}
			
			li[class*="current-menu-"],
			li[class*="current-menu-"].sfHover {
				a {
					background-color: white;
					color: $color__body-text;
					
					&:hover {
						background-color: $color__secundario;
						color: $color__body-text;
					}
				}
				&:after {
					display: block;
					content: "";
					background-color: $color__primario;
					height: 3px;
					width: 30px;
					position: absolute;
					bottom: 5px;
					left: 5px;
					
				}
				
			}
			
			ul {
				background-color: $color__secundario;
				
				li {
					a {
						background-color: $color__secundario;
						color: $color__body-text;
					}
					&:focus,
					&.sfHover,
					&:hover  {
						>a {
							background-color: $color__secundario;
							color: $color__body-text;
							&:hover {
								background-color: $color__primario;
							}
						}
					}
				}
				li[class*="current-menu-"],
				li[class*="current-menu-"].sfHover {
					a {
						background-color: white;
						color: $color__body-text;
						
						&:hover {
							background-color: $color__secundario;
							color: $color__body-text;
						}
					}
					
				}
			}
		}
	}

}

.contained-content {
	.inside-article {
		background-color: transparent;
	}
}


.escondido {
	display: none;
}

/************************************************************************/
// pagina de single-curso
/************************************************************************/
.single-curso,
.single-seccion {

	.site-main {
		margin: 0;
		.curso_sidebar {
			background-color: #DFE5EE;
			max-width: 100%;
			display: block;
			margin: 0;
			padding: 20px;
			.submenu { 
				font-size: .8em;
				letter-spacing: .5px;
				line-height: 1.25;
				h4 {
					display: none;
					text-align: left;
				}
				//submenu de curso
				ul {
					list-style: none;
					margin: 0;
					max-width: 90%;
					border-left: 2px solid $color__grisillo;	
					li {
						position: relative;
						text-align: left;
						a {
							color: $color__body-text;
							border: none;
							padding: 7.5px 1em 7.5px;
							display: block;
							background: white;
							margin: 7.5px 0;
							
							&:hover {
								padding-left: 1.5em;
							}
							
							
						}
						a:last-child {
							margin: 7.5px 0 0;
						}
						&:before {
							content: "";
							width: 10px;
							height: 10px;
							@include radio(50%);
							border: 2px solid $color__grisillo;
							background: $color__grisillo;
							display: inline-block;
							top: calc(50% - 7.5px);
							left: -8px;
							position: absolute;
						}			
						
					}
										
					li.current-item {
						font-weight: 700;		
						a {
							font-weight: 400;
							
						}
						&:before {
							background: $color__primario;
						}
					}
				}
				
				
			}//aqui termina el submenu
			
			@media screen and (min-width: $break__medium) { //.sidebar
				
				margin: 0 0 20px; //importante
				margin: 0;
				nav {
					position: sticky;
					position: -webkit-sticky;
					top: 20px; /* required */
					overflow: visible;
					
				}
				.submenu {
					overflow: visible;
					ul {
						width: 100%;
						max-width: 100%;
					}
					h4 {
						margin: 0;
						display: block;
						background: white;
						padding: 7.5px 5px 7.5px 12px;
						border-top: 2px solid $color__grisillo;
					}
				}
			}
		} //aqui termina el sidebar
		
		.curso,
		.seccion {
			width: 100%;
			margin-bottom: 20px;
			.entry-title {
				margin: 0;
				padding-bottom: 20px;

			}

		}
		
		@media screen and (min-width:$break__medium) {
			display: flex;
			align-items: stretch!important;
			min-height: 740px;
			.curso_sidebar {
				width: 25%;
				margin-bottom: 20px;
				flex-shrink: 0;
			}
			.curso,
			.seccion {
				background: white;
				width: 75%;
			}
		}
	}
	
	.entry-header {
		margin-top: 0;
		width: 100%;
		
		.entry-title {
			font-size: 1.1em;
			padding: .5em 1em .5em;
			background: $color__azul;
			color: $color__text-overdark;
			margin-top: 0;
			span {
				display: block;
				font-size: .5em;
				text-transform: uppercase;
				letter-spacing: 1px;
			}
			@media screen and (min-width: $break__small) {
				font-size: 1.25em;
				padding: .5em 1em .75em;
			}
		}
	}
	.widget-area {
		>div {
			//margin: 0;
		}
	}
	.content-area {
		width: 100%!important;
		.site-main {
			margin: 0;
			
			
			.entry-content {
				margin: 0;
			}	
			
			.portada__wrap {
				display: block;
				margin: 0 -20px 2em;
				//border: 1px solid $color__grisillo;
				//background: $color__text-overdark;
				
				.portada-curso {
					width: 320px;
					max-width: 100%;
					height: 320px;
					margin: 0 auto;
					//position: relative;
					background-size: cover;
					background-position: center center;

					
				}
				.curso__info {
					width: auto; 
					line-height: 1.4;
					font-size: .9em;
					overflow: hidden;
					.curso__info-inside {
						padding: 1em;
						width: 100%;
					}
					
					ul {
						list-style: none;
						margin: 0;
						li {
							margin-bottom: .5em;
						}
						li.seccion-title {
							font-size: 1.3em;
							font-weight: 600;
							line-height: 1.2em;
						}
						.curso_codigo {
							font-size: .8em;
							color: #777;
							margin: .5em 0 .75em;
						}
						.curso_area {
							font-weight: 600;
						}
						
					}
					.curso_info {
						font-size: .85em;
					}
				}
				//portada
				@media screen and (min-width: $break__small) {
					display: flex;
					flex-wrap: wrap;
					margin: 0 0 2em;
					.portada-curso {
						width: 50%;
						max-width: 320px;
						margin: 0;
						flex-shrink: 0;
						-webkit-flex-shrink: 0;
					}
					.curso__info {
						width:50%;
						flex-shrink: 2;
						-webkit-flex-shrink: 2; 
						flex-grow: 2;
						-webkit-flex-grow: 2; 
					}
				}
			}

		}
	}
}
.migajas {
	font-size: .77em;
	font-weight: 200;
	margin-top: -10px;
	margin-bottom: 20px;
	color: #aaa;
	a {
		color: #bbb;
		border: none;
		&:hover {
			color: $color__primario;
			border-bottom: 1px solid $color__primario;
		}
	}	
}


/************************************************************************/
// Posts and pages
/************************************************************************/
.post-image {
	a {
		border: none;
	}
}

.tags {
	margin: 80px 0 40px;
	a {
		margin: 0;
		padding: .25em .5em;
		background-color: $color__dark;
		color: $color__amarillo;
		font-size: .66em;
		letter-spacing: 1px;
		font-weight: 200;
		text-transform: uppercase;
		border: none;
		
	}
}

/************************************************************************/
// pagina de recurso single-recurso content-recurso
/************************************************************************/
.recurso-post {
	figcaption {
		font-size: .8em;
		font-weight: 200;
		color: #aaa;
	}
}

.single-recurso{
	.recurso-category {
		@media screen and (min-width: $break__large) {
			margin-left: -60px;
		}
	}
	
	.video-wrap,
	.m3d-wrap {
		display: block;
		//background: #111;
		width: 100%;
		height: auto;
		position: relative;
		
		.video-dark-background {
			position: absolute;
			top: 0;
			background-color: #111;
			height: 100%;
			width: 100vw;
			margin-left: calc(50% - 50vw);
		    margin-right: calc(50% - 50vw);
		    z-index: -1	;
		}
		
	}
	.video-contenedor,
	.m3d-contenedor {
		display: block;
		//background: #111;
		width: 100%;
		text-align: center;
		margin: 0 auto;
		z-index: 99;
		.attachment-portada-video {
			margin: 0 auto!important;
		}
	}
	.m3d-contenedor {
		canvas {
			width: 100%;
			margin: 0 auto;
			display: block;
			
			@media screen and (min-width: $break__medium) {
				width: 66%;
			}
		}
	}
	.meta-info {
		font-size: .77em;
		color: #a4a4a4;
		margin-bottom: 2em;
		span {
			display: block;
		}
		a {
			color: #a4a4a4;
		}
	}
}
 .recurso-category {
	font-size: .7em;
	letter-spacing: .5px;
	background: $color__amarillo;
	color: $color__dark;
	padding: 4px 10px;
	margin-bottom: 1em;
	display: inline-block;
	-webkit-clip-path: polygon(0% 0%, 95% 0, 100% 50%, 95% 100%, 0% 100%);
	clip-path: polygon(0% 0%, 95% 0, 100% 50%, 95% 100%, 0% 100%);
	
}	

.btn {
	background: $color__grisillo;
	padding: 1em;
	margin-bottom: 20px;
	display: block;
	border: none;
	text-align: center;
	max-width: $break__medium;
	&:hover {
		border: none;
		color: $color__dark;
	}
}
.licencia-block {
	padding: 1em 1em 1.25em;
	margin: 2em 0 0;
	display: block;
	background: #eee;
	font-size: .8em;
	@include radio(5px);
	h4 {
		margin: 0 0 .5em;
	}
	p{
		margin: 0;
	}
	img {
		float: left;
		margin: 1em 1em 0 0;
	}
}
.inside-article .portada {
	margin-bottom: 40px;
	width: 100%;
	img {
		width: 100%;
		height: auto;
	}
}


/************************************************************************/
// archivo de recursos y cursos
/************************************************************************/
.archive-view, 
.ocw-front {
	&.archivo-recursos,
	&.archivo-cursos,
	&.tax-recurso_category,
	&.tax-area,
	&.tax-recurso_category { 
		.page-header {
			margin: 20px 0 0;
			padding: 0;
			background: none;
			display: block;
			.page-title {
				text-align: center;
				text-transform: uppercase;
				font-size: 1em;
				letter-spacing: 6px;
				width: auto;
				margin: 40px 0 20px;
				padding: 0 20px;
				color: #a4a4a4;
				text-shadow: 2px 2px 1px white;
				@media screen and (min-width: $break__small) {
					font-size: 1.5em;
				}
			}
		}
	}
	&.archivo-recursos,
	&.tax-recurso_category {
		.content-area {
			left: 0;
			margin-left: 0;
			width: 100%!important;
			.site-main {
				margin: 0;
				width: 100%!important;
			}
		}

	}
	.taxonomy-description {
		display: none;
	}
	

	
	
	.cursos-container {
		padding: 0;
		.curso {
			margin: 0 0 20px;
			width: 100%;
			box-shadow: 1px 1px 4px rgba(0, 0, 0, 0.25);
			background-color: white;
			img {
				width: 100%;
				margin: 0;
				outline: none;
			}
			a {
				border: none;
				color: inherit;
				text-decoration: none;
			}
			
			.inside-article {
				padding: 20px;
				margin: 0;
				line-height: 1.25;
				.entry-title {
					font-family: $headings;
					margin: 0;
				}
				.curso_codigo {
					margin: 1em 0 0;
					font-size: .7em;
					color: #a4a4a4;
				}
			}
		}
	
	}
	.recursos-container {
		padding: 40px 0 0;
		
		.recurso {
			display: flex;
			margin-bottom: 20px;
			position: relative;
			box-shadow: 0px 1px 4px rgba(0, 0, 0, 0.25);
			
			&:after { //icono de flecha
				content: "";
				width: 12px;
				height: 20px;
				background: url(img/arrow-right.png) no-repeat;
				position: absolute;
				right: 14px;
				top: calc(50% - 10px);
			}
			a {
				border: none;
			}
			
			.thumb-recurso {
				width: 150px;
				height: 150px;
				flex-shrink: 0;
				border: none;
				background-color: $color__grisillo;
				z-index: 10;
				.recurso-icon {
					width: 100%;
					height: 100%;
				}
			}
			
			.inside-article {
				height: 130px; //150px menus 20px del padding
				padding: 10px 40px 10px 20px;
				flex-grow: 1;
				overflow: hidden;
				position: relative;
				
				.entry-title {
					font-family: $headings;
					font-size: 1.2em;
					margin: 0 0 .5em;
					white-space: nowrap;
					overflow: hidden;
					text-overflow: ellipsis;
				}
			
				.entry-content {
					margin: 0;
					width: 100%;
					height: auto;
					font-size: .85em;
					font-weight: 200;
					line-height: 1.3;
				    overflow: hidden;
				}
				
			}
			.recurso-category {
				position: absolute;
				left: -6px;
				bottom: 0;
				z-index: 20;
			}
		}
		
		@media screen and (min-width: $break__medium) {
			display: flex;
			flex-flow: row wrap;
			padding: 40px 0 0;
			.recurso {
				flex: auto;
				height: auto;
				max-width: 48%;
				margin: 0 1% 20px; /* Some gutter */
			}
	
		}
	}
	
}

.archivo-cursos,
.tax-area {
	//submenu de areas de cursos
	.responsive-navigation {
		margin-top: 20px;
	}
	.cursos-nav {
		font-size: .77em;
		letter-spacing: .5em;
		ul {
			margin: 0;
			background-color: #98B1D5;
			padding: 5px 0;
			-webkit-clip-path: polygon(100% 0, 100% 100%, 23% 100%, 0 86%, 0 0);
			clip-path: polygon(100% 0, 100% 100%, 23% 100%, 0 86%, 0 0);			
			li {
				line-height: 1.3;	
				padding: 0 5px;			
			}
			a {
				color: white;
				border: none;
				padding: .5em;
				display: block;
				letter-spacing: .25px;
				width: auto;
				margin: 5px 0;
				&:hover,
				&:active {
					background: #51F0FA;
					padding-left: 1em;
				}
			}
			li.current-menu-item a {
				background: $color__primario;
				color: #fff;
				position: relative;
			}
		}
	}
	@media screen and (min-width: $break__small) {
		.cursos-nav {
			ul {
				padding: 5px 0 80px;
			}
		}
		.cursos-container {
			display: flex;
			justify-content: space-around;
			flex-flow: row wrap;
			.curso {
				//width: 48%;
				width: 30%;
				flex-grow: 0;
				margin: 0 0 10px 0;
				min-width: 280px;
			}
		}
	}
	@media screen and (min-width: $break__medium) {
		.content-area {
			width: 100%;
			margin: 0;
			left: 0;
			display: flex;
			justify-content: space-between;
			.responsive-navigation {
				width: 20%;
			}
			.site-main {
				width: 75%;
				margin-left: 0;
			}
		}
	}
	
}


//sub menu responsive
.responsive-navigation {
    text-align: center;
    width: 100%;
    margin-bottom: 0!important;
    
    ul.nav-submenu,
	div.nav-submenu > ul {
	    display: none;
	    width: 100%;
	}
	ul.nav-submenu.submenuToggled-on,
	.submenu-toggle {
	    display: inline-block;
	    width: calc(100% - 40px);
	    margin: 0 auto;
	}
	button.submenu-toggle {
		background: #98B1D5;
		letter-spacing: 1px;
	}
	
	//estilos para desktop
	@media screen and (min-width: $break__medium) {
		ul.nav-submenu,
	    div.nav-submenu > ul {
	        display: inline-block!important;
	        text-align: left;
	        //width: 100%;
	    }
	    
	    .submenu-toggle {
	        display: none;
	    }
	}
}



//iconos de recursos sin imagen destacada
.recursos-container {
	.recurso {
		
		.thumb-recurso {
			background-repeat: no-repeat;
			background-position: center center;
			@include vector-bg-with-fallback(recurso);
		}
		
		&.recurso_category-interactivo {
			.thumb-recurso {
				@include vector-bg-with-fallback(interactivo);
			}
		}
		&.recurso_category-video-educativo {
			.thumb-recurso {
				@include vector-bg-with-fallback(video);
			}
		}
		&.recurso_category-modelo-3d {
			.thumb-recurso {
				@include vector-bg-with-fallback(3d);
			}
		}
		&.recurso_category-manual {
			.thumb-recurso {
				@include vector-bg-with-fallback(manual);
			}
		}
	}
}




//menu de recursos
.recursos-nav {
	ul {
		list-style: none;
		background: #98B1D5;
		margin: 0;
		
		a {
			padding: .5em 1em;
			display: block;
			border: none;
			color: white;
			letter-spacing: .5px;
			&:hover,
			&:active {
				background: #51F0FA;
				
			}
		}
		.current-menu-item a {
			background: $color__amarillo;
			color: #5D769B;
			position: relative;
			
		}
	}
	
	@media screen and (min-width: $break__medium) {
		>ul {
			text-align: inherit!important;
			display: flex;
			align-items: baseline;
			//justify-content: flex-end;
			flex-wrap: wrap;
			height: auto;
			li {
				display: inline-block;
				a {
					padding: 1em;
				}
			}
			.current-menu-item a {
				&:after {
					content: "";
					width: 2em;
					height: 8px;
					background: $color__amarillo;
					position: absolute;
					bottom: -8px;
					left: calc(50% - 1em);
					-webkit-clip-path: polygon(50% 100%, 0 0, 100% 0);
					clip-path: polygon(50% 100%, 0 0, 100% 0);
				}
			}
		}	
	}
}
/************************************************************************/
// Front page especifico
/************************************************************************/
.ocw-front {
	
	.fs-title {
		display: block;
		text-align: center;
		text-transform: uppercase;
		font-size: 1em;
		letter-spacing: 6px;
		width: auto;
		margin: 40px 0 20px;
		padding: 0 20px;
		color: #a4a4a4;
		text-shadow: 2px 2px 1px white;
		
		@media screen and (min-width: $break__small) {
			font-size: 1.5em;
		}
	}
	.site-main { //banner de arriba
		margin: 0 0 20px!important;
		background: white;
		
		.texto {
			max-width: 100%;
			background: $color__primario;
			background-image: linear-gradient(45deg, #89FDC8 0%, #51F0FA 100%);
			color: #3F7EC5;
			padding: 40px 20px;
			margin-bottom: 0;
			line-height: 1.45;
			
			.entry-title {
				margin-top: 0;
				margin-bottom: .5em;
			}
			
			p:last-child {
				margin-bottom: 0;
			}
		}
		.dibujo {
			width: 100%;
			height: 320px;
			margin-bottom: 0;
			background-image:  url(img/dibujo-sm.png);
			background-size: cover;
			background-position: center center;
			
			@media screen and (min-width: $break__small) {
				background-image:  url(img/dibujo.png);
			}
		}
		.btn1 {
			top: 0;
		}
		
		@media screen and (min-width: $break__medium) {
			display: flex;
			align-content: stretch;
			margin-top: 20px!important;
			.texto {
				width: 50%;
				order: 1;
				//padding: 40px;
			}
			.dibujo {
				width: 50%;
				height: auto;
				overflow: hidden;
				order: 2;
				margin: 0;
				img {
					
				}
				
			}
		}
		
		@media screen and (min-width: $break__large) {
			flex-wrap: wrap;
			margin-bottom: 20px;
			.texto {
				order: 2;
				width: 100%;
				padding: 40px 25%;
				-webkit-clip-path: polygon(95% 0, 100% 10%, 100% 100%, 0 100%, 0 0);
				clip-path: polygon(95% 0, 100% 10%, 100% 100%, 0 100%, 0 0);
			}
			.dibujo {
				order: 1;
				width: 100%;
				height: 65vh;
			}
		}
	}
	.cursos-container {
		background: $color__verdeazul;
		background-image: linear-gradient(-140deg, #FD8F7C 0%, #FA9046 93%);
		padding: 40px 10px 60px;
		-webkit-clip-path: polygon(0 0, 100% 0, 100% 100%, 10% 100%, 0 95%);
		clip-path: polygon(0 0, 100% 0, 100% 100%, 10% 100%, 0 95%);
		overflow: visible;
		position: relative;		
		@media screen and (min-width: $break__small) {
			display: flex;
			justify-content: space-around;
			flex-direction: row;
			flex-wrap: wrap;
			padding: 40px 40px 60px;
			.curso {
				width: 30%;
				flex-shrink: 0;
				margin: 10px 0;
				min-width: 240px;
				max-width: 300px;
				background: white;
			}
		}
	}
	.recursos-container {
		background: $color__amarillo;
		background-image: linear-gradient(-222deg, #ECCB6A 0%, #F6E871 95%);
		padding: 40px 10px 60px;
		-webkit-clip-path: polygon(0 0, 100% 0, 100% 94%, 93% 100%, 0 100%);
		clip-path: polygon(0 0, 100% 0, 100% 94%, 93% 100%, 0 100%);
		@media screen and (min-width: $break__small) {
			padding: 40px 40px 60px;
		}
		
		.recurso {
			background: white;
		}
	}
	
	
}

a.btn1,
a.btn1:visited {
	padding: 1em;
	background: #FFFFFF;
	box-shadow: 0 2px 4px 0 rgba(0,0,0,0.22);
	font-family: $headings;
	border: none!important;
	display: inline-block;
	margin: 1em auto;
	position: relative;
	top: -2em;
	color: $color__grisillo;
}
.ocw-front .btn1 {
	margin: 0 auto;
}


/************************************************************************/
// Sidebars
/************************************************************************/
#right-sidebar,
#left-sidebar{
	.widget {
		padding: 2em;
		font-size: .9em;
		background: #fff;
	}
	h2 {
		margin: 0 0 1em;
	}
	li {
		margin-bottom: .5em;
	}
}

/************************************************************************/
// Pagina archivo de blog
/************************************************************************/
.archive-view {
	//background: #f4f4f4;
	.post {
		background: white;
		position: relative;

		.entry-title {
			margin-top: 0;
		}
		.read-more {
			position: absolute;
			padding: 1em;
			background-color: $color__dark;
			color: $color__text-overdark;
			bottom: 0;
			right: 0;
			border: none;
			&:hover {
				background: $color__primario;
				color: white;
			}
		}
	}
	.paging-navigation {
		text-align: center;
		background: none;
	}
	.nav-links {
		a, span {
			padding: 1em;
			border: none;
			background: white;
			margin: 0 5px;
			box-shadow: 1px 1px 4px rgba(0, 0, 0, 0.19);
			&.current {
				background: $color__grisillo;
			}
		}
	}
	
	
}

/************************************************************************/
// Search results
/************************************************************************/
.search-results .results {
	background: white;
	padding: 20px;
	@media screen and (min-width: $break__small) {
		padding: 20px 40px;
	}
}

/************************************************************************/
// footer
/************************************************************************/
.site-footer {
	.footer-widgets {
		background: $color__dark;
		color: $color__text-overdark;
		
		.widget-title {
			color: $color__text-overdark;
		}
		
		a {
			color: $color__text-overdark;
		}
	}
}
.site-info {
	background: $color__dark;
}
.copyright-bar{
	display: none;
}
.cc-widget {
	font-size: .8em;
	display: flex;
	justify-content: flex-end;
	align-items: center;
	a.cc-img {
		border: none;
		float: right;
		order: 2;
		margin: 0 0 0 1em;
	}
}
@import url('custom-styles.css');